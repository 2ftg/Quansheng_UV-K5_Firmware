transport select swd
adapter speed 100

# Create a new dap, with name chip and role CPU, -enable let's OpenOCD to know to add it to the scan
swd newdap chip cpu -enable

# Create the DAP instance, this must be explicitly created according to the OpenOCD docs
dap create chip.dap -chain-position chip.cpu

# Set up the GDB target for the CPU, cortex_m is the CPU type, 
target create chip.cpu cortex_m -dap chip.dap

# init reads out all of the necessary information from the DAP, kicks off the debugging session, etc
init

# Read out the information from the DAP, including the ROM table
dap info
