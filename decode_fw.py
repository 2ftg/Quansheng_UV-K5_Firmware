import sys

XOR_ARRAY_STR = '71, 34, 192, 82, 93, 87, 72, 148, 177, 96, 96, 219, 111, 227, 76, 124, 216, 74, 214, 139, 48, 236, 37, 224, 76, 217, 0, 127, 191, 227, 84, 5, 233, 58, 151, 107, 176, 110, 12, 251, 177, 26, 226, 201, 193, 86, 71, 233, 186, 241, 66, 182, 103, 95, 15, 150, 247, 201, 60, 132, 27, 38, 225, 78, 59, 111, 102, 230, 160, 106, 176, 191, 198, 165, 112, 58, 186, 24, 158, 39, 26, 83, 91, 113, 177, 148, 30, 24, 242, 214, 129, 2, 34, 253, 90, 40, 145, 219, 186, 93, 100, 198, 254, 134, 131, 156, 80, 28, 115, 3, 17, 214, 175, 48, 244, 44, 119, 178, 125, 187, 63, 41, 40, 87, 34, 214, 146, 139'
XOR_ARRAY     = bytearray([int(x.strip()) for x in XOR_ARRAY_STR.split(',')])

def full_xor(ba1):
    ba2=bytearray(ba1)
    for i in range(0,len(ba2)):
        ba2[i] ^= XOR_ARRAY[i%128]
    return bytes(ba2)

with open(sys.argv[1], "rb") as f, open(sys.argv[2], 'wb') as of:
    data = f.read()
    of.write(full_xor(data))
